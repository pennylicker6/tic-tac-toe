<script>
  let board = {
    A1: " ", A2: " ", A3: " ",
    B1: " ", B2: " ", B3: " ",
    C1: " ", C2: " ", C3: " "
  };

  let currentPlayer = "X";
  let gameOver = false;
  let score = { X: 0, O: 0 };

  const statusDiv = document.getElementById("status");
  const scoreX = document.getElementById("scoreX");
  const scoreO = document.getElementById("scoreO");
  const cells = document.querySelectorAll("td");

  const winningCombinations = [
    ["A1", "A2", "A3"], ["B1", "B2", "B3"], ["C1", "C2", "C3"],
    ["A1", "B1", "C1"], ["A2", "B2", "C2"], ["A3", "B3", "C3"],
    ["A1", "B2", "C3"], ["A3", "B2", "C1"]
  ];

  function checkWinner() {
    return winningCombinations.some(combo =>
      combo.every(cell => board[cell] === currentPlayer)
    );
  }

  function handleClick(event) {
    const id = event.target.id;
    if (board[id] === " " && !gameOver) {
      board[id] = currentPlayer;
      event.target.textContent = currentPlayer;

      if (checkWinner()) {
        statusDiv.textContent = `Player ${currentPlayer} wins! ðŸŽ‰`;
        score[currentPlayer]++;
        updateScores();
        gameOver = true;
      } else if (Object.values(board).every(cell => cell !== " ")) {
        statusDiv.textContent = "It's a draw!";
        gameOver = true;
      } else {
        currentPlayer = currentPlayer === "X" ? "O" : "X";
        statusDiv.textContent = `Current Player: ${currentPlayer}`;
      }
    }
  }

  function updateScores() {
    scoreX.textContent = score.X;
    scoreO.textContent = score.O;
  }

  function resetGame() {
    for (let key in board) board[key] = " ";
    cells.forEach(cell => cell.textContent = "");
    currentPlayer = "X";
    gameOver = false;
    statusDiv.textContent = "Current Player: X";
  }

  cells.forEach(cell => {
    cell.onclick = handleClick;
  });
</script>

